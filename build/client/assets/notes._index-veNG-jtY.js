import{j as e}from"./jsx-runtime-DlxonYWr.js";import{B as h}from"./button-D4isoa3P.js";import{C as x,a as m,b as p,d as u,e as k,c as H}from"./card-D-X7nE0R.js";import{a as I,S as o}from"./skeleton-DKL58Lbh.js";import{L as A,r as n,u as S,a as O,F,b as V}from"./components-Czq65UFQ.js";import{L as C,I as z,P as _}from"./label-Aa_ZNhlt.js";import{c as d}from"./utils-bRKmu4jq.js";function $({note:s}){return e.jsxs(x,{className:"flex h-full flex-col",children:[e.jsx(m,{className:"flex-none",children:e.jsx(p,{className:"line-clamp-2",children:e.jsx(A,{to:`/notes/${s.id}`,className:"hover:underline",children:s.title})})}),e.jsx(u,{className:"flex-1",children:e.jsx("p",{className:"line-clamp-3 text-sm text-muted-foreground",children:s.description||""})}),e.jsx(k,{className:"flex-none border-t pt-4",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:I(s.createdAt)})})]})}function B({notes:s,emptyMessage:t="No notes found."}){return s.length===0?e.jsx("div",{className:"flex h-[200px] items-center justify-center rounded-lg border border-dashed",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:t})}):e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map(r=>e.jsx($,{note:r},r.id))})}const P=n.forwardRef(({className:s,...t},r)=>e.jsx("textarea",{className:d("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...t}));P.displayName="Textarea";function M({defaultValues:s={},onSuccess:t}){var f,c,j,g,N,v,b,y;const r=S(),a=O(),i=n.useRef(null),l=a.state==="submitting";return n.useEffect(()=>{var w;r!=null&&r.success&&((w=i.current)==null||w.reset(),t==null||t())},[r==null?void 0:r.success,t]),e.jsxs(F,{ref:i,method:"post",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"title",children:"Title"}),e.jsx(z,{id:"title",name:"title",defaultValue:s.title,required:!0,maxLength:255,"aria-invalid":(f=r==null?void 0:r.errors)!=null&&f.title?!0:void 0,"aria-errormessage":(j=(c=r==null?void 0:r.errors)==null?void 0:c.title)==null?void 0:j.join(", ")}),((g=r==null?void 0:r.errors)==null?void 0:g.title)&&e.jsx("p",{className:"text-sm text-red-500",id:"title-error",children:r.errors.title.join(", ")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(C,{htmlFor:"description",children:"Description"}),e.jsx(P,{id:"description",name:"description",defaultValue:s.description,required:!0,rows:5,maxLength:1e4,placeholder:"Write your note here...","aria-invalid":(N=r==null?void 0:r.errors)!=null&&N.description?!0:void 0,"aria-errormessage":(b=(v=r==null?void 0:r.errors)==null?void 0:v.description)==null?void 0:b.join(", ")}),((y=r==null?void 0:r.errors)==null?void 0:y.description)&&e.jsx("p",{className:"text-sm text-red-500",id:"description-error",children:r.errors.description.join(", ")})]}),e.jsx(h,{type:"submit",disabled:l,children:l?"Saving...":"Save Note"})]})}function q(s,t){if(s==null)return{};var r={},a=Object.keys(s),i,l;for(l=0;l<a.length;l++)i=a[l],!(t.indexOf(i)>=0)&&(r[i]=s[i]);return r}var G=["color"],W=n.forwardRef(function(s,t){var r=s.color,a=r===void 0?"currentColor":r,i=q(s,G);return n.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),n.createElement("path",{d:"M8 2.75C8 2.47386 7.77614 2.25 7.5 2.25C7.22386 2.25 7 2.47386 7 2.75V7H2.75C2.47386 7 2.25 7.22386 2.25 7.5C2.25 7.77614 2.47386 8 2.75 8H7V12.25C7 12.5261 7.22386 12.75 7.5 12.75C7.77614 12.75 8 12.5261 8 12.25V8H12.25C12.5261 8 12.75 7.77614 12.75 7.5C12.75 7.22386 12.5261 7 12.25 7H8V2.75Z",fill:a,fillRule:"evenodd",clipRule:"evenodd"}))});function K({className:s,children:t,...r}){return e.jsx("div",{className:d("flex flex-col gap-2",s),...r,children:t})}function U({className:s,children:t,...r}){return e.jsx("h1",{className:d("text-3xl font-bold tracking-tight",s),...r,children:t})}function Y({className:s,children:t,...r}){return e.jsx("p",{className:d("text-muted-foreground",s),...r,children:t})}var Z="Separator",R="horizontal",J=["horizontal","vertical"],L=n.forwardRef((s,t)=>{const{decorative:r,orientation:a=R,...i}=s,l=Q(a)?a:R,c=r?{role:"none"}:{"aria-orientation":l==="vertical"?l:void 0,role:"separator"};return e.jsx(_.div,{"data-orientation":l,...c,...i,ref:t})});L.displayName=Z;function Q(s){return J.includes(s)}var T=L;const E=n.forwardRef(({className:s,orientation:t="horizontal",decorative:r=!0,...a},i)=>e.jsx(T,{ref:i,decorative:r,orientation:t,className:d("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...a}));E.displayName=T.displayName;function X(){return e.jsxs(x,{className:"flex h-full flex-col",children:[e.jsx(m,{className:"flex-none space-y-2",children:e.jsx(o,{className:"h-4 w-3/4"})}),e.jsxs(u,{className:"flex-1 space-y-2",children:[e.jsx(o,{className:"h-4 w-full"}),e.jsx(o,{className:"h-4 w-5/6"}),e.jsx(o,{className:"h-4 w-4/6"})]}),e.jsx(k,{className:"flex-none border-t pt-4",children:e.jsx(o,{className:"h-3 w-24"})})]})}function D(){return e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((s,t)=>e.jsx(X,{},t))})}function ne(){const{notes:s}=V(),[t,r]=n.useState(!1),i=O().state==="loading";return e.jsx("div",{className:"h-full min-h-screen bg-background",children:e.jsx("div",{className:"container px-4 py-10 sm:px-6 lg:px-8 lg:py-12",children:e.jsxs("div",{className:"mx-auto space-y-8",children:[e.jsx(K,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(U,{children:"Notes"}),e.jsx(Y,{children:"Manage your notes and thoughts in one place."})]}),e.jsxs(h,{onClick:()=>{r(!0)},disabled:i,children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Create Note"]})]})}),e.jsx(E,{}),t?e.jsxs(x,{children:[e.jsxs(m,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(p,{children:"Create Note"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>r(!1),disabled:i,children:"Cancel"})]}),e.jsx(u,{children:e.jsx(M,{onSuccess:()=>{r(!1)}})})]}):null,e.jsxs(x,{children:[e.jsxs(m,{children:[e.jsx(p,{children:"Your Notes"}),e.jsx(H,{children:"A list of all your notes. Click on a note to view its details."})]}),e.jsx(u,{children:i?e.jsx(D,{}):e.jsx(B,{notes:s})})]})]})})})}export{ne as default};
